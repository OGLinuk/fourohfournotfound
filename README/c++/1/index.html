<!DOCTYPE HTML>
<html lang="en">

	<head>
		<title>C++ 1 ~ Make &amp;&amp; CMake</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width" , initial-scale="1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie-edge" />
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
		<link rel="shortcut icon" href="/static/images/icon.png" type="image/png" />
		<link rel="stylesheet" href="/static/style.css" />
		<link rel="stylesheet" href="/static/reset.css" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> 
	</head>

	<body class="body">
		<header class=nav-bar>
			<nav class="navbar navbar-expand-sm bg-light justify-content-center">
				<ul class="nav">
					<li class="nav-item">
						<a class="nav-link" href="/">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/posts">Posts</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/books">Library</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/tbl">The Big List</a>
					</li>
				</ul>
			</nav>
		</header>
		<h1>C++ 1 ~ Make &amp;&amp; CMake</h1>
		<h4>
					[			C++,
						Make,
						CMake,
						Fundamentals
			]
				</h4>

		<br>

		<main>
			<p>One of the things <a href="https://github.com/pigeonhands">Sam</a> suggested to learn/use with C++ is <a href="https://gnu.org/software/make/">make</a> and <a href="https://cmake.org">cmake</a>. Iâ€™ve come across make before, but not cmake, this blog is going to be about learning the basics of both.</p>
<p>The following is a simple program that I made to start with make.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c++"><code class="sourceCode cpp"><a class="sourceLine" id="cb1-1" title="1"><span class="co">// main.cpp</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="pp">#include </span><span class="im">&quot;hello.h&quot;</span></a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="dt">int</span> main()</a>
<a class="sourceLine" id="cb1-5" title="5">{</a>
<a class="sourceLine" id="cb1-6" title="6">    Hello h;</a>
<a class="sourceLine" id="cb1-7" title="7">    h.printHello();</a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="cf">return</span> <span class="dv">0</span>;</a>
<a class="sourceLine" id="cb1-10" title="10">}</a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode c++"><code class="sourceCode cpp"><a class="sourceLine" id="cb2-1" title="1"><span class="co">// hello.h</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">class</span> Hello</a>
<a class="sourceLine" id="cb2-3" title="3">{</a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw">public</span>:</a>
<a class="sourceLine" id="cb2-5" title="5">    <span class="dt">void</span> printHello();</a>
<a class="sourceLine" id="cb2-6" title="6">};</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode c++"><code class="sourceCode cpp"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// hello.cpp</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span><span class="pp"> </span><span class="co">// System defined header file</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="pp">#include </span><span class="im">&quot;hello.h&quot;</span><span class="pp"> </span><span class="co">// User defined header file</span></a>
<a class="sourceLine" id="cb3-4" title="4"></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="kw">using</span> <span class="kw">namespace</span> std;</a>
<a class="sourceLine" id="cb3-6" title="6"></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="dt">void</span> Hello::printHello()</a>
<a class="sourceLine" id="cb3-8" title="8">{</a>
<a class="sourceLine" id="cb3-9" title="9">    cout &lt;&lt; <span class="st">&quot;Hello world from Makefile example!</span><span class="sc">\n</span><span class="st">&quot;</span>;</a>
<a class="sourceLine" id="cb3-10" title="10">}</a></code></pre></div>
<p><br />
</p>
<p>Now for the <code>Makefile</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode makefile"><code class="sourceCode makefile"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># Makefile</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="dv">output:</span><span class="dt"> main.o hello.o</span></a>
<a class="sourceLine" id="cb4-3" title="3">    g++ main.o hello.o -o main</a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="dv">main.o:</span><span class="dt"> main.cpp</span></a>
<a class="sourceLine" id="cb4-6" title="6">    g++ -c main.cpp</a>
<a class="sourceLine" id="cb4-7" title="7"></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="dv">hello.o:</span><span class="dt"> hello.cpp hello.h</span></a>
<a class="sourceLine" id="cb4-9" title="9">    g++ -c hello.cpp</a>
<a class="sourceLine" id="cb4-10" title="10"></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="dv">clean:</span></a>
<a class="sourceLine" id="cb4-12" title="12">    rm *.o main</a></code></pre></div>
<p>Now all that needs to be done is run the <code>make</code> command. After running the newly compiled binary <code>main</code>, we get the expected output; <code>Hello world from Makefile example!</code>.</p>
<p><br />
</p>
<p>Next is to create a cmake example using the same program.</p>
<pre><code>// CMakeLists.txt
cmake_minimum_required (VERSION 3.10)

project (hw_cmake_example)

add_executable(
    main
    main.cpp
    hello.cpp
    hello.h
)</code></pre>
<p>With the <code>CMakeLists.txt</code> file done, now to create a build directory <code>mkdir build &amp;&amp; cd build</code>, then to run the command <code>cmake ..</code>. This creates a few files, one of which is a <code>Makefile</code>. We can now run <code>make</code> and then run the compiled binary <code>main</code>, which gives the expected output; <code>Hello world from the CMake example!</code>.</p>
		</main>
		<br>
		<br>
		<footer>
			<p>
				2020 OGLinuk (<a href="https://github.com/OGLinuk">GitHub</a> | <a href="https://gitlab.com/OGLinuk">GitLab</a>)
				~
				Licensed under Creative Commons Attribution-ShareAlike.
			</p>
		</footer>
		<script src="/static/main.js"></script>
	</body>

</html>