<!DOCTYPE HTML>
<html lang="en">

	<head>
		<title>INotebook</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width" , initial-scale="1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie-edge" />
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
		<link rel="shortcut icon" href="/static/images/icon.png" type="image/png" />
		<link rel="stylesheet" href="/static/style.css" />
		<link rel="stylesheet" href="/static/reset.css" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> 
	</head>

	<body class="body">
		<header class=nav-bar>
			<nav class="navbar navbar-expand-sm bg-light justify-content-center">
				<ul class="nav">
					<li class="nav-item">
						<a class="nav-link" href="/">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/posts">Posts</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/books">Library</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/tbl">The Big List</a>
					</li>
				</ul>
			</nav>
		</header>
		<h1>INotebook</h1>
				<h4>
			[			Python,
						Cryptography,
						Vigenere Cipher
			]
		</h4>
		
		<br>

		<main>
			<p>If you have seen the Prestige, then this program will look familiar. INotebook is a personal notebook that is encrypted with the vigenere cipher. A vigenere cipher is similar to a caesar cipher (where characters are shifted by a certain offset), but the vigenere cipher uses a key to determine the offset rather than a number. The key is repeated to the length of the message, then each character of the message is offset by the character of the key. For example if I had a key of hello and a message of world; w would be offset by 8 (since h is 8th in position), e would be offset by 15, and so on. In that example the message is the exact length of the message, so the key wouldnlt be repeated but for messages larger than the hey length, the key is repeated.</p>
<p>An example of this looks like:</p>
<pre><code>key = &#39;HELLO&#39;
message = &#39; MESSAGE&#39;

offsets = ([&#39;M&#39;, &#39;H&#39;], [&#39;E&#39;, &#39;E&#39;,], [&#39;S&#39;, &#39;L&#39;], [&#39;S&#39;, &#39;L&#39;], [&#39;A&#39;, &#39;O&#39;], [&#39;G&#39;, &#39;H&#39;], [&#39;E&#39;, E&#39;])</code></pre>
<p>Now to code it.</p>
<p><br />
</p>
<p>The first thing is to make a class which will be our notebook.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">class</span> IllusionistsNotebook(<span class="bu">object</span>):</a>
<a class="sourceLine" id="cb2-2" title="2">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, key):</a>
<a class="sourceLine" id="cb2-3" title="3">        <span class="va">self</span>.key <span class="op">=</span> <span class="va">self</span>.map_key(key)</a>
<a class="sourceLine" id="cb2-4" title="4">        <span class="va">self</span>.matrix <span class="op">=</span> [ascii_uppercase[(i <span class="op">+</span> <span class="dv">1</span>) <span class="op">%</span> <span class="dv">26</span>] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(ascii_uppercase))]</a>
<a class="sourceLine" id="cb2-5" title="5">        <span class="va">self</span>.entries_file <span class="op">=</span> <span class="st">&#39;entries.txt&#39;</span></a>
<a class="sourceLine" id="cb2-6" title="6">        <span class="va">self</span>.entries <span class="op">=</span> []</a>
<a class="sourceLine" id="cb2-7" title="7">    </a>
<a class="sourceLine" id="cb2-8" title="8">    <span class="kw">def</span> map_key(<span class="va">self</span>, k):</a>
<a class="sourceLine" id="cb2-9" title="9">        key <span class="op">=</span> <span class="st">&#39;&#39;</span></a>
<a class="sourceLine" id="cb2-10" title="10">        <span class="cf">for</span> i, c <span class="kw">in</span> <span class="bu">enumerate</span>(k):</a>
<a class="sourceLine" id="cb2-11" title="11">            <span class="cf">if</span> c.isalpha():</a>
<a class="sourceLine" id="cb2-12" title="12">                key <span class="op">+=</span> c.upper()</a>
<a class="sourceLine" id="cb2-13" title="13">            <span class="cf">if</span> c.isdigit():</a>
<a class="sourceLine" id="cb2-14" title="14">                key <span class="op">+=</span> ascii_uppercase[<span class="bu">int</span>(c) <span class="op">%</span> <span class="bu">len</span>(ascii_uppercase)].upper()</a>
<a class="sourceLine" id="cb2-15" title="15">        <span class="cf">return</span> key</a></code></pre></div>
<p>The class takes a key which is passed to the <code>map_key</code> function. The purpose of the <code>map_key</code> is to be able to use both alphabet characters and numerical values (so that I can use hashâ€™s produced by my personal <a href="https://github.com/OGLinuk/sbh">SBH</a> program). <code>Self.matrix</code> is an array of all uppercase alphabetical characters to map the message characters to. The <code>self.entries_file</code> value is a hardcoded file that is used to store entries of inotebook, and <code>self.entries</code> is for the entries made within the current session. The next function is the vigenere encryption function, which takes a string as a parameter. The function creates an empty string for which the resulting values are appended to. <code>repK</code> is a variable that maps the key to the entire message (repeating the key characters if the message is longer than the key). The next thing that is done is the actual mapping of the individual characters in the passed string to the key characters. Remember the example above? The code itself is pretty simple.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb3-1" title="1"><span class="cf">for</span> x, i <span class="kw">in</span> <span class="bu">enumerate</span>(s.upper()):</a>
<a class="sourceLine" id="cb3-2" title="2">    <span class="cf">if</span> i <span class="kw">not</span> <span class="kw">in</span> ascii_uppercase:</a>
<a class="sourceLine" id="cb3-3" title="3">        cipherText <span class="op">+=</span> i</a>
<a class="sourceLine" id="cb3-4" title="4">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb3-5" title="5">        cipherText <span class="op">+=</span> ascii_uppercase[(ascii_uppercase.find(i) <span class="op">+</span> <span class="va">self</span>.matrix.index(repK[x])) <span class="op">%</span> <span class="dv">26</span>]</a>
<a class="sourceLine" id="cb3-6" title="6">    <span class="cf">return</span> cipherText</a></code></pre></div>
<p>For each character that is enumerated over, the program checks to see if the current character is within the ascii_uppercase variable, if not the program will append the (i)ndex value of the ascii_uppercase variable. If the character is <em>not</em> within the ascii_uppercase variable then the program appends the value of i. I am not entirely sure if this is bad practice since there is essentially nothing changed to a non-alphabetical character. I will leave this for now since it is not a massive priority, but will be something that I will adjust in the future. I already have an idea for a solution, which does the same thing as the else statement above, but for numerical values and for symbols.</p>
		</main>
		<br>
		<br>
		<footer>
			<p>
				2020 OGLinuk (<a href="https://github.com/OGLinuk">GitHub</a> | <a href="https://gitlab.com/OGLinuk">GitLab</a>)
				~
				Licensed under Creative Commons Attribution-ShareAlike.
			</p>
		</footer>
		<script src="/static/main.js"></script>
	</body>

</html>