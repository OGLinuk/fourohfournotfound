<!DOCTYPE HTML>
<html lang="en">

	<head>
		<title>Shell 3 ~ Exploring the System</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width" , initial-scale="1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie-edge" />
		<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
		<meta http-equiv="Pragma" content="no-cache" />
		<meta http-equiv="Expires" content="0" />
		<link rel="shortcut icon" href="/static/images/icon.png" type="image/png" />
		<link rel="stylesheet" href="/static/style.css" />
		<link rel="stylesheet" href="/static/reset.css" />
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script> 
	</head>

	<body class="body">
		<header class=nav-bar>
			<nav class="navbar navbar-expand-sm bg-light justify-content-center">
				<ul class="nav">
					<li class="nav-item">
						<a class="nav-link" href="/">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/posts">Posts</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/books">Library</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="/tbl">The Big List</a>
					</li>
				</ul>
			</nav>
		</header>
		<h1>Shell 3 ~ Exploring the System</h1>
		<h4>
					[			Shell,
						Linux,
						CLI,
						BASH,
						Open Source
			]
				</h4>

		<br>

		<main>
			<p>Chapter 3 is about <em>exploring the system</em>. The commands covered are <code>ls</code> (list directory content), <code>file</code> (determine file type), and <code>less</code> (view file contents one screenful at a time). I use <code>ls</code> daily, but have to admit I’ve never used <code>file</code> or <code>less</code>. As the book states, <code>ls</code> is one of the most used commands. Hard to disagree since it’s whats used to see a directories content is and the associated attributes. The wonderful thing about <code>ls</code> is the fact that you can use it on directories other than the current working directory. An example of this would be <code>ls /var/log</code>. One thing I did not know about <code>ls</code> is that you can list multiple directories. An example would be <code>ls /var/log /var/backups</code>. To view more detail (or long listing format according to the man page) we can specify the <code>-l</code> flag, which looks like <code>ls -l</code>.</p>
<p>This is where the book first mentions <em>options &amp;&amp; arguments</em>. What I called a <em>flag</em> is what the book refers to as an <em>option</em>. Commands can often have their behavior changed by adding one or more <em>options</em>, and options can be changed even further by adding <em>arguments</em>. The structure looks like the following.</p>
<p><code>command -option(s) argument(s)</code></p>
<p>Options can consist of either a single character that is preceded by a dash (like <code>ls -l</code>), or they can be a word preceded by two dashes (like <code>ls --indicator-style=slash</code>). You can also combine options to allow for a more specific output, like <code>ls -lh</code>, which lists the content directory using long listing format and in human readable sizes. Like naming in Linux, command options are case-sensitive. An example of this is <code>ls -a</code> and <code>ls -A</code>. The <code>-a</code> option lists all files (including hidden ones), where as the <code>-A</code> option is the same as <code>-a</code> except it does not show hidden files.</p>
<p>Let’s break down the output of <code>ls -l</code>. I will be using the example output from the book, which is as follows.</p>
<pre><code>-rw-r--r-- 1 root root 3576296 2017-04-03 11:05 Experience ubuntu.ogg</code></pre>
<p>The first field (<code>-rw-r--r--</code>) are the permissions. The first grouping of <code>rw-</code> is the owner permissions, meaning the permissions apply only to the owner of the file. The second grouping <code>r--</code> is the group permissions, which applies to the group that has been assigned to the file. The third and last grouping (also <code>r--</code>) is the permissions for all users on the system. You might have noticed that I skipped over something. I never knew what this particular <em>thing</em> was until now. The thing I am referring to is the first character in <code>-rw-r--r--</code>, or the first <code>-</code>. If you execute <code>ls -l</code> you will most likely see a <code>d</code> in place of the <code>-</code>. This refers to the <code>type</code> of the file, which in the case of <code>d</code> the file type is a directory.</p>
<p>The following are types that can be found on Linux. <a href="https://unix.stackexchange.com/a/59133">[source]</a></p>
<ul>
<li><ul>
<li>(file)</li>
</ul></li>
<li>d (directory)</li>
<li>c (character device)</li>
<li>l (symlink)</li>
<li>p (named pipe)</li>
<li>s (socket)</li>
<li>b (block device)</li>
<li>D (door)</li>
</ul>
<p>The second field (<code>1</code>) is the number of hard links associated with the name. The third field (<code>root</code>) is the username of the owner of the file. The fourth field (<code>root</code>) is the name of the group that owns the file. The fifth field (<code>3576296</code>) is the size in bytes. The sixth field (<code>2017-04-03 11:05</code>) is the date and time of the last modification. The seventh and final field (<code>Experience ubuntu.ogg</code> is the name of the file.</p>
<hr />
<p>Now lets explore the <code>file</code> command. In Linux the file’s name is not required to reflect the type of the file itself. For an example lets look at the following file.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb2-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="kw">&lt;h1&gt;</span>Hello world!<span class="kw">&lt;/h1&gt;</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>Let’s first save this file as the name <code>test.html</code> and run <code>file test.html</code>, we get the following output.</p>
<pre><code>test.html: HTML document, ASCII text</code></pre>
<p>Now let’s rename the file to just <code>test</code> and run <code>file test</code>. We get the following output.</p>
<pre><code>test: HTML document, ASCII text</code></pre>
<hr />
<p>As I said at the start <code>less</code> is not a command that I have used. Although I’ve known about it, I usually default to using the <code>cat</code> command. An interesting note that the book makes is how <em>ASCII</em> is one of the earliest and simplest representations of text. ASCII stands for <em>American Standard Code for Information Interchange</em>. Text is a one-to-one mapping of characters to numers, which means that 42 characters of text translates to 42 bytes of data. An example of <code>less</code> is <code>less /var/log/syslog</code>.</p>
<p>There are a list of directories that the book suggests to explore, which I will list below, but am going to leave the exploring/explanation for you to do/research.</p>
<ul>
<li><code>/</code></li>
<li><code>/bin</code></li>
<li><code>/boot</code></li>
<li><code>/dev</code></li>
<li><code>/etc</code></li>
<li><code>/home</code></li>
<li><code>/lib</code></li>
<li><code>/lost+found</code></li>
<li><code>/media</code></li>
<li><code>/mnt</code></li>
<li><code>/opt</code></li>
<li><code>/proc</code></li>
<li><code>/root</code></li>
<li><code>/sbin</code></li>
<li><code>/tmp</code></li>
<li><code>/usr</code></li>
<li><code>/usr/bin</code></li>
<li><code>/usr/lib</code></li>
<li><code>/usr/local</code></li>
<li><code>/usr/sbin</code></li>
<li><code>/usr/share</code></li>
<li><code>/usr/share/doc</code></li>
<li><code>/var</code></li>
<li><code>/var/log</code></li>
</ul>
<hr />
<p>The last part of the chapter talks about <em>links</em>, more specifically <em>symbolic links</em>. During your exploration of the various directories you will have come across files that look like the following.</p>
<pre><code>lrwxrwxrwx 1 root root   9 Apr 17 11:24 editor -&gt; /bin/nano</code></pre>
<p>If we refer back to the types of files that can be found on Linux, then we will know that this is a file of the type <em>symlink</em>, which can also be referred to as a <em>symbolic link</em> or <em>soft link</em>. Unix-like systems have the ability to have a file referenced by multiple names, which may not be obvious as to why that would be useful. My first encounter with symlinks was when I got started with <a href="/post/nginx-0">nginx</a>, when having to run the <code>ln -s</code> command to create a symbolic link between <code>fourohfournotfound.com</code> in <code>sites-available</code> to <code>sites-enabled</code>. It would be a pain to have to manually update <code>sites-enabled/fourohfournotfound.com</code> every time I make a change to the <code>sites-available/fourohfournotfound.com</code> file. This is where symbolic links come in. Rather than having two seperate files, we instead create a symbolic link in <code>sites-enabled</code> called <code>fourohfournotfound.com</code>, which points to the <code>sites-available/fourohfournotfound.com</code> file. Now anytime a change is made to the <code>sites-available/fourohfournotfound.com</code> file, <code>sites-enabled</code> reflects those changes.</p>
<p>The example that I have shown is a symbolic link located in <code>/etc/alternatives</code> for <code>editor</code> pointing to <code>/bin/nano</code>. This refers to the default editor used, which in this case, resolves to <code>/bin/nano</code>. We can change this symbolic link by executing <code>sudo update-alternatives --config editor</code>, and choosing <code>/usr/bin/vim.basic</code>. Now if we look at the symbolic link again we can see it is now the following.</p>
<pre><code>lrwxrwxrwx 1 root root  12 April 29 19:15 editor -&gt; /usr/bin/vim.basic</code></pre>
<p>That’s all for chapter 3!</p>
		</main>
		<br>
		<br>
		<footer>
			<p>
				2020 OGLinuk (<a href="https://github.com/OGLinuk">GitHub</a> | <a href="https://gitlab.com/OGLinuk">GitLab</a>)
				~
				Licensed under Creative Commons Attribution-ShareAlike.
			</p>
		</footer>
		<script src="/static/main.js"></script>
	</body>

</html>